Version 1.6     xxxxx, xx 2020
==============================

<CPU upgraded to ISA 1.6: Interrupts added>
<CPU bugfix: The CPU wrote back the second operand when comparing. This had
no visible effects but this one: When using the register of a MMIO device as
a second indirect operand such as CMP 1, @R0 and if the device was sensitive
to this register being re-written. Details:
https://github.com/sy2002/QNICE-FPGA/issues/9#issuecomment-670980704>

* MEGA65: Ported QNICE-FPGA to the MEGA65 (https://mega65.org/)

* UART: Added a 32 Byte FIFO to the UART. This was necessary because the
  MEGA65 serial over JTag does not support RTS/CTS and therefore we needed
  more stability. Now RTS/CTS should be unnecessary in most cases.

* INSTRUCTION COUNTER: Added. Counts all instructions executed by the CPU.
  Can be used for performance testing as shown in
  test_programs/q-tris_perf_test.asm and test_programs/mandel_perf_test.asm.

* EMULATOR: Made the WebAssembly target compatible with Emscripten 1.39.14
  (and newer and it still works with 1.39.10 and some of the older versions,
  but not with the versions in between). The background of this phenomenon is
  explained here: https://github.com/emscripten-core/emscripten/issues/10746

WIP EMULATOR: Adjusted the standard emulation speed to 12.12 MIPS because this
  is the average Q-TRIS performance. Peak performance observed so far is in
  test_programs/mandel_perf_test.asm: 13.18 MIPS

* TOOLCHAIN: qtransfer: Convenient mechanism for transferring software
  (.out files) from the host computer to QNICE-FPGA. Details: doc/README.md

* TOOLCHAIN: Added Xilinx Vivado as an alternative IDE to work with.
  Structured all hardware dependencies in the new folder 'hw' and added
  a documentation in 'hw/README.md'.

* TOOLCHAIN: Added Ubuntu Linux support, which means it should also run on
  any other Debian based distribution. You might want to install xclip for
  more convenience (.out copied to clipboard after assembler ran).

* DOCUMENTATION: Added doc/README.md, hw/README.md & vhdl/hw/MEGA65/README.md

<Repeat speed tests after having corrected the instruction counter. Do them
at least on Nexys4DDR using a Vivado build and on the MEGA65. Note all values
and create an average. It seems it is only 12.0 MIPS in Q-TRIS. Retest:
After having done real speed tests: Adjust all the 12.9 MIPS claims
to 12.12 MIPS (also in emulator, documentation, various README.MDs): the
spectrum is between 12.12 MIPS in Q-TRIS and 13.18 MIPS in mandel_perf_test>

<Now that Vivado for the Nexys board works again: make ISE also working again:
Seems we need to add a list of caveats for ISE including a non working cycle
and instruction counter; describe that in the hw/README.md - or is there
anything else we can test?>

HYPERRAM:

<make ISE work again: 
1. (Merge HDMI, done and) test HDMI and VGA
2. (Merge Instruction count, done and) test instruction count
3. did Paul finally fix the strange Hyperram smoking gun? If not, then I need
to remove HyperRAM from the ISE version and write a note, that HyperRAM right
now only works in Vivado and explain why>

<is the double read of id0lo (or in general the first control register)
still necessary? hardware bug still there? ref hyperram.asm "hw bug: 2 reads necessary!"
reproduce on C65; notify Paul>

<create a thorough HyperRAM test program and/or update the exiting ones in
assembler and C>

FINAL TOUCHES JUST BEFORE RELEASING:

1. Make sure that the PORE texts are correct (for the MEGA65 version as well
as for the standard version)

2. <restructure dist_kit and have .bit and .cor files ready and then update
all the links @TODO, for example in the hw/README.md and doc/README.md,
others? Make all the .bit files with Vivado as it seems to be more reliable
than ISE>

3. <make sure to update the Getting Started section to reflect all the news
about ISE and Vivado and also about the platforms. Have also a MEGA65.bit
and a MEGA65.cor in the dist_kit and mention it in the Getting Started 
section>

DIRECTLY AFTER RELEASE:

<Update the qnice-fpga.com website: new version number, mention hardware
platforms, mention Vivado>

Version 1.5     March, 22 2020
==============================

This version greatly enhances the capabilities and the stability of the
emulator. Detailed description: emulator/README.md

* qnice-vga: VGA screen and PS/2 keyboard emulation
* qnice-wasm: WebAssembly/WebGL version that runs in the web browser

Version 1.41    December, 30 2016
=================================

* CPU: Fixed a bug which prevented things like ADD @--R4, R4 from working
  correctly, i.e. when a register was pre-decremented, then used for
  indirect reading and then the same register was the target register.
  See test_programs/predec.asm for a thorough description of this bug.
* EMULATOR: Can emulate the SD Cards introduced in Version 1.4 by being able
  to mount raw binary images of FAT32 devices. Have a look at doc/emumount.txt
  to see how it works.
* EMULATOR: 'dump' now shows ASCII values additionally to the hex values.
* Fixed a bunch of typos in various places and improved the documentation.

Version 1.4    December, 26 2016
================================

1. Hardware read-only support for SD Cards. Make sure to read the hints and
   constraints in doc/contraints.txt. To directly test the hardware without
   using the new Monitor libraries, use test_programs/sdcard.asm

2. Software read-only support for FAT32 (new Monitor Libraries sd_library.asm
   and fat32_library.asm).

3. Monitor: It is now possible to browse directories and to load/run files
   directly from the monitor. Partition #1 of the SD Card is automatically
   mounted when using directory or file related functions.
   New top level folder "qbin" contains demo programs that can be executed.

4. C Compiler, Standard C Library: VBCC toolchain including VBCC compiler,
   VASM assembler and VLINK linker: Stable basic C environment including
   file system access (via fopen, fread, ...) and including convenient
   editing functions due to the fact, that the Monitor's new versatile
   gets_slf() function is used when reading from stdin. Everything is
   located in the "c" subfolder.
   
   Partition 1 of the SD Card is automatically mounted on-demand (upon first
   call of fopen). To test it, try c/test_programs/fread_basic.c

   Monitor library is available, that wraps monitor functions. To test it, try
   c/test_programs/shell.c

5. EAE: Extended Arithmetic Element added: This is a 16-bit signed/unsigned
   integer multiplication (with 32bit results), division and modulo
   co-processor. An example of the impressive speedup can be seen in the
   source code comments of mandel_perf_test.asm, which shows a speedup of
   factor 4.5 compared with release version 1.3.

   For testing it, use the following programs:
   test_programs/eae.asm
   test_programs/32bit-mul.asm

6. Further Library enhancements:

   * IO Library (Monitor): New gets function that supports CR or LF or CR/LF
     for ending the editing and that supports backspace (BS). New get_s that
     only function that reads until the buffer is full. get_slf that adds a LF
     in case the string input is ended by CR, LF or CR/LF.
   * Math Library (Monitor): mulu, muls, divu, divs, mulu32, divu32
   * String Library (Monitor): chr2lower, split, h2dstr

Version 1.3    May, 6 2016
==========================

* CPU: Significant speed improvement by removing old tristate driver:
  Evolution can be seen in mandel_perf_test.asm, which is now ~32% faster.
  Q-TRIS was even ~56% faster (now adjusted back to normal speed).
* CPU: Fixed a bug that prevented things like CMP 0x00AA, 0x00FF or things
  like OR @R0++, @R0, i.e. situations, where both operands perform an
  indirect access, where the source and destination operands are identical
  and where the source operand is post-incremented.
* ALU: Fixed CMP opcode behaviour: using the N flag it now treats the
  operands as unsigned and using the V flag it treats them as signed.
* ALU: Fixed V flag CPU bug (AND, OR, XOR)
* CYCLE COUNTER: Added. Counts clock cycles. Can be used for performance
  testing, as shown in test_programs/mandel_perf_test.asm.
* DEBUG MODE: If switch #2 is ON, then the LEDs are showing the current
  address bus value in real-time and on HALT the TIL shows the address
  of the executed HALT command.
* ASSEMBLER: Is able to handle labels on separate lines, improved error
  handling, CMP allows a constant as second operand.
* EMULATOR: Fixed CMP opcode behaviour (see above), fixed similar CPU bug
  as described above. Outputs address of HALT instruction. Also emulates
  the new cycle counter (register compatible), but instead of counting
  clock cycles, it is counting instructions.
* DOCUMENTATION: Added a programming card.

Version 1.21   February, 13 2016
================================

* Fixed predecrement CPU bug
* Q-TRIS V1.0: Tetris clone and first game ever programmed for Q-NICE.
  Needs VGA and keyboard. Located in demos/q-tris.asm, starts at 0x8000 when
  being run via the monitor. Additionally, there is a special stand-alone
  autostart bitstream for the Digilent Nexys 4 DDR in dist_kit/q-tris.bit

Version 1.2  January, 10 2016
=============================

* UART: 115.200 baud, 8-N-1, CTS from now on
* VGA: now supports hardware scrolling and the lat9w-12 font, which supports
  besides the U.S. english charset also the German charset.
* MONITOR: system call table, supports scrolling on VGA using CTRL+F(orward)
  and CTRL+B(backward) and PgUp/PgDn as well as the cursor keys
* KEYBOARD: support for US and German keyboard locales and support
  for special keys like cursor keys, page-up/down, etc.
* HALT LED implemented as LED #15
* PORE system implemented. Most notably, this leads to not needing to
  press the reset-button after startup. Additionally, a reset message is
  displayed.
* ASSEMBLER: bugfixes and .DW now supports .EQUs and labels as arguments

Version 1.1  December, 30 2015
==============================

By default, version 1.1 behaves like version 1.0, i.e. input/output is done
via UART, 8-N-1, 9.600 baud, RTS/CTS. But from version 1.1 on, you can now
route the input via a PS/2 keyboard and the output via a 640x480 VGA
monitor (80x40 characters):

* PS/2 keyboard support: enable via SW0
* VGA support: enable via SW1

Version 1.0  August, 30 2015
============================

Classic "Environment 1" (aka env1), inspired by the classic
QNICE/A evaluation board environment. Features:

* the original address layout: lower 32kB are ROM, upper 32kB are RAM
* 16bit words stored at each address word
* 256 registers
* memory mapped IO beginning at 0xFF00
* 4 TIL-311 displays at 0xFF10:
  0xFF10 is the value to be displayed
  0xFF11 lower 4 bit are a display bit mask
* Serial interface 8-N-1, 9.600 baud, RTS/CTS beginning at FF20:
  0xFF21 status register
  0xFF22 read register
  0xFF23 write register      

The package contains a working monitor application (version 0.2) including
the mandelbrot demo application.

Furtheron, the assembler and the emulator are included.
